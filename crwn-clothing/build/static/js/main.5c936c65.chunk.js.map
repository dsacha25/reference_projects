{"version":3,"sources":["redux/cart/cart.types.js","firebase/firebase.utils.js","redux/user/user.actions.js","redux/shop/shop.types.js","redux/cart/cart.selectors.js","redux/cart/cart.actions.js","redux/shop/shop.actions.js","components/custom-button/custom-button.styles.jsx","components/custom-button/custom-button.component.jsx","components/spinner/spinner.styles.jsx","components/spinner/spinner.component.jsx","redux/user/user.types.js","assets/crown.svg","assets/shopping-bag.svg","components/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.styles.jsx","components/cart-item/cart-item.component.jsx","components/cart-dropdown/cart-dropdown.component.jsx","redux/user/user.selectors.js","components/header/header.styles.jsx","components/header/header.component.jsx","components/error-boundary/error-boundary.styles.jsx","components/error-boundary/error-boundary.component.jsx","global.styles.js","App.js","serviceWorker.js","redux/user/user.reducer.js","redux/cart/cart.utils.js","redux/cart/cart.reducer.js","redux/directory/directory.reducer.js","redux/shop/shop.reducer.js","redux/root-reducer.js","redux/cart/cart.sagas.js","redux/shop/shop.sagas.js","redux/user/user.sagas.js","redux/root.sagas.js","redux/store.js","index.js"],"names":["CartActionTypes","TOGGLE_CART_HIDDEN","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","CLEAR_CART","SET_CART_FROM_FIREBASE","UPDATE_CART_IN_FIREBASE","createUserProfileDocument","userAuth","additonalData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","message","convertCollectionsSnapshotToMap","collections","docs","map","data","title","items","routeName","encodeURI","toLowerCase","id","reduce","accumulator","collection","getCurrentUser","Promise","resolve","reject","unsubscribe","auth","onAuthStateChanged","getUserCartRef","userId","cartsRef","where","snapShot","empty","cartDocRef","cartItems","ref","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","googleSignInStart","type","GOOGLE_SIGN_IN_START","signUpStart","credentials","SIGN_UP_START","payload","signUpSuccess","user","additionalData","SIGN_UP_SUCCESS","signInSuccess","SIGN_IN_SUCCESS","signInFailure","error","SIGN_IN_FAILURE","emailSignInStart","emailAndPassword","EMAIL_SIGN_IN_START","checkUserSession","CHECK_USER_SESSION","signOutStart","SIGN_OUT_START","signOutSuccess","SIGN_OUT_SUCCESS","ShopActionsTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_FAIL","selectCart","state","cart","selectCartItems","createSelector","selectCartHidden","hidden","selectCartItemsCount","accumulatedQuantity","cartItem","quantity","selectCartTotal","price","toggleCartHidden","addItem","item","removeItem","clearItemFromCart","clearCart","setCartFromFirebase","fetchCollectionsStart","fetchCollectionsSuccess","collectionsMap","fetchCollectionsFailure","errorMessage","buttonStyles","css","invertedButtonStyles","googleSignInStyles","CustomButtonContainer","styled","button","props","isGoogleSignIn","inverted","CustomButton","children","SpinnerOverlay","div","SpinnerContainer","Spinner","SIGN_UP_FAILURE","SIGN_OUT_FAILURE","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref4","stroke","strokeWidth","fill","fillRule","transform","points","fillOpacity","cx","cy","r","_ref","svgRef","width","height","viewBox","undefined","ForwardRef","forwardRef","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","x","y","style","enableBackground","xmlSpace","d","CartIcon","itemCount","useSelector","dispatch","useDispatch","className","onClick","CartItemContainer","CartItemImage","img","ItemDetailsContainer","memo","imageUrl","name","src","alt","CartDropdown","history","useHistory","push","selectCurrentUser","currentUser","HeaderContainer","LogoContainer","Link","OptionsContainer","OptionLink","Header","to","as","ErrorImageOverlay","ErrorImageContainer","ErrorImageText","h2","ErrorBoundary","hasErrored","info","Component","GlobalStyle","createGlobalStyle","HomePage","lazy","ShopPage","CheckoutPage","SignInAndSignUpPage","App","useEffect","fallback","exact","path","component","render","Boolean","window","location","hostname","match","INITIAL_STATE","userReducer","action","addItemToCart","cartItemToAdd","find","removeItemFromCart","cartItemToRemove","filter","cartReducer","sections","linkUrl","size","directoryReducer","isFetching","shopReducer","persistConfig","storage","whitelist","rootReducer","combineReducers","directory","shop","persistReducer","clearCartOnSignOut","onSignOutSuccess","updateCartInFirebase","onUserSignIn","checkCartFromFirebase","onCartChange","cartSagas","put","takeLatest","select","cartRef","update","cartSnapshot","all","fetchCollectionsAsync","shopSagas","collectionRef","snapshot","takeEvery","getSnapshotFromUserAuth","signInWithGoogle","onGoogleSignInStart","signInWithEmail","onEmailSignInStart","isUserAuthenticated","onCheckUserSession","signOut","onSignOutStart","signInAfterSignUp","onSignUpSuccess","signUp","onSignUpStart","userSagas","userSnapshot","signInWithPopup","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","store","createStore","composeWithDevTools","applyMiddleware","run","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5c936c65.chunk.js","sourcesContent":["const CartActionTypes = {\n\tTOGGLE_CART_HIDDEN: \"TOGGLE_CART_HIDDEN\",\n\tADD_ITEM: \"ADD_ITEM\",\n\tREMOVE_ITEM: \"REMOVE_ITEM\",\n\tCLEAR_ITEM_FROM_CART: \"CLEAR_ITEM_FROM_CART\",\n\tCLEAR_CART: \"CLEAR_CART\",\n\tSET_CART_FROM_FIREBASE: \"SET_CART_FROM_FIREBASE\",\n\tUPDATE_CART_IN_FIREBASE: \"UPDATE_CART_IN_FIREBASE\",\n};\n\nexport default CartActionTypes;\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyALbZkitP7-lfOBRJQuYdC9_z0lmRXDTmY\",\n\tauthDomain: \"crwn-db-cfbc4.firebaseapp.com\",\n\tdatabaseURL: \"https://crwn-db-cfbc4.firebaseio.com\",\n\tprojectId: \"crwn-db-cfbc4\",\n\tstorageBucket: \"crwn-db-cfbc4.appspot.com\",\n\tmessagingSenderId: \"248921421873\",\n\tappId: \"1:248921421873:web:4ada62056ad82ea4b8fd10\",\n};\n\nexport const createUserProfileDocument = async (userAuth, additonalData) => {\n\tif (!userAuth) return;\n\n\tconst userRef = firestore.doc(`users/${userAuth.uid}`);\n\n\tconst snapshot = await userRef.get();\n\n\tif (!snapshot.exists) {\n\t\tconst { displayName, email } = userAuth;\n\t\tconst createdAt = new Date();\n\n\t\ttry {\n\t\t\tawait userRef.set({\n\t\t\t\tdisplayName,\n\t\t\t\temail,\n\t\t\t\tcreatedAt,\n\t\t\t\t...additonalData,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(\"Error creating user\", err.message);\n\t\t}\n\t}\n\n\treturn userRef;\n};\n\nexport const addCollectionAndDocuments = async (\n\tcollectionKey,\n\tobjectsToAdd\n) => {\n\tconst collectionRef = firestore.collection(collectionKey);\n\n\tconst batch = firestore.batch();\n\n\tobjectsToAdd.forEach((obj) => {\n\t\tconst newDocRef = collectionRef.doc();\n\n\t\tbatch.set(newDocRef, obj);\n\t});\n\n\treturn await batch.commit();\n};\n\nexport const convertCollectionsSnapshotToMap = (collections) => {\n\tconst transformedCollection = collections.docs.map((doc) => {\n\t\tconst { title, items } = doc.data();\n\n\t\treturn {\n\t\t\trouteName: encodeURI(title.toLowerCase()),\n\t\t\tid: doc.id,\n\t\t\ttitle,\n\t\t\titems,\n\t\t};\n\t});\n\n\treturn transformedCollection.reduce((accumulator, collection) => {\n\t\taccumulator[collection.title.toLowerCase()] = collection;\n\t\treturn accumulator;\n\t}, {});\n};\n\nexport const getCurrentUser = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst unsubscribe = auth.onAuthStateChanged((userAuth) => {\n\t\t\tunsubscribe();\n\t\t\tresolve(userAuth);\n\t\t}, reject);\n\t});\n};\n\nexport const getUserCartRef = async (userId) => {\n\tconst cartsRef = firestore.collection(\"carts\").where(\"userId\", \"==\", userId);\n\tconst snapShot = await cartsRef.get();\n\n\tif (snapShot.empty) {\n\t\tconst cartDocRef = firestore.collection(\"carts\").doc();\n\t\tawait cartDocRef.set({ userId, cartItems: [] });\n\t\treturn cartDocRef;\n\t} else {\n\t\treturn snapShot.docs[0].ref;\n\t}\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\ngoogleProvider.setCustomParameters({ prompt: \"select_account\" });\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\n\nexport default firebase;\n","import {\n\tGOOGLE_SIGN_IN_START,\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_FAILURE,\n\tEMAIL_SIGN_IN_START,\n\tCHECK_USER_SESSION,\n\tSIGN_OUT_START,\n\tSIGN_OUT_SUCCESS,\n\tSIGN_UP_START,\n\tSIGN_UP_FAILURE,\n\tSIGN_UP_SUCCESS,\n} from \"./user.types\";\n\nexport const googleSignInStart = () => ({\n\ttype: GOOGLE_SIGN_IN_START,\n});\n\nexport const signUpStart = (credentials) => ({\n\ttype: SIGN_UP_START,\n\tpayload: credentials,\n});\n\nexport const signUpSuccess = ({ user, additionalData }) => ({\n\ttype: SIGN_UP_SUCCESS,\n\tpayload: { user, additionalData },\n});\nexport const signUpFailure = (error) => ({\n\ttype: SIGN_UP_FAILURE,\n\tpayload: error,\n});\n\nexport const signInSuccess = (user) => ({\n\ttype: SIGN_IN_SUCCESS,\n\tpayload: user,\n});\n\nexport const signInFailure = (error) => ({\n\ttype: SIGN_IN_FAILURE,\n\tpayload: error,\n});\n\nexport const emailSignInStart = (emailAndPassword) => ({\n\ttype: EMAIL_SIGN_IN_START,\n\tpayload: emailAndPassword,\n});\n\nexport const checkUserSession = () => ({\n\ttype: CHECK_USER_SESSION,\n});\n\nexport const signOutStart = () => ({\n\ttype: SIGN_OUT_START,\n});\n\nexport const signOutSuccess = () => ({\n\ttype: SIGN_OUT_SUCCESS,\n});\n","const ShopActionsTypes = {\n\tFETCH_COLLECTIONS_START: \"FETCH_COLLECTIONS_START\",\n\tFETCH_COLLECTIONS_SUCCESS: \"FETCH_COLLECTIONS_SUCCESS\",\n\tFETCH_COLLECTIONS_FAIL: \"FETCH_COLLECTIONS_FAIL\",\n};\n\nexport default ShopActionsTypes;\n","import { createSelector } from \"reselect\";\n\n// Input selector no createSelector\n// Output selector use input and createSelector\n\nconst selectCart = (state) => state.cart;\n\nexport const selectCartItems = createSelector(\n\t[selectCart],\n\t(cart) => cart.cartItems\n);\n\nexport const selectCartHidden = createSelector(\n\t[selectCart],\n\t(cart) => cart.hidden\n);\n\nexport const selectCartItemsCount = createSelector(\n\t[selectCartItems],\n\t(cartItems) =>\n\t\tcartItems.reduce(\n\t\t\t(accumulatedQuantity, cartItem) =>\n\t\t\t\taccumulatedQuantity + cartItem.quantity,\n\t\t\t0\n\t\t)\n);\n\nexport const selectCartTotal = createSelector([selectCartItems], (cartItems) =>\n\tcartItems.reduce(\n\t\t(accumulatedQuantity, cartItem) =>\n\t\t\taccumulatedQuantity + cartItem.quantity * cartItem.price,\n\t\t0\n\t)\n);\n","import CartActionTypes from \"./cart.types\";\nconst {\n\tTOGGLE_CART_HIDDEN,\n\tADD_ITEM,\n\tCLEAR_ITEM_FROM_CART,\n\tREMOVE_ITEM,\n\tCLEAR_CART,\n\tSET_CART_FROM_FIREBASE,\n\tUPDATE_CART_IN_FIREBASE,\n} = CartActionTypes;\n\nexport const toggleCartHidden = () => ({\n\ttype: TOGGLE_CART_HIDDEN,\n});\n\nexport const addItem = (item) => ({\n\ttype: ADD_ITEM,\n\tpayload: item,\n});\n\nexport const removeItem = (item) => ({\n\ttype: REMOVE_ITEM,\n\tpayload: item,\n});\n\nexport const clearItemFromCart = (item) => ({\n\ttype: CLEAR_ITEM_FROM_CART,\n\tpayload: item,\n});\n\nexport const clearCart = () => ({\n\ttype: CLEAR_CART,\n});\n\nexport const updateCartInFirebase = () => ({ type: UPDATE_CART_IN_FIREBASE });\n\nexport const setCartFromFirebase = (cartItems) => ({\n\ttype: SET_CART_FROM_FIREBASE,\n\tpayload: cartItems,\n});\n","import {\n\tfirestore,\n\tconvertCollectionsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\nimport ShopActionsTypes from \"./shop.types\";\n\nconst {\n\tFETCH_COLLECTIONS_START,\n\tFETCH_COLLECTIONS_SUCCESS,\n\tFETCH_COLLECTIONS_FAIL,\n} = ShopActionsTypes;\n\n// export const updateCollections = (collectionsMap) => ({\n// \ttype: UPDATE_COLLECTIONS,\n// \tpayload: collectionsMap,\n// });\n\nexport const fetchCollectionsStart = () => ({\n\ttype: FETCH_COLLECTIONS_START,\n});\n\nexport const fetchCollectionsSuccess = (collectionsMap) => ({\n\ttype: FETCH_COLLECTIONS_SUCCESS,\n\tpayload: collectionsMap,\n});\n\nexport const fetchCollectionsFailure = (errorMessage) => ({\n\ttype: FETCH_COLLECTIONS_FAIL,\n\tpayload: errorMessage,\n});\n\nexport const fetchCollectionsStartAsync = () => {\n\treturn (dispatch) => {\n\t\tconst collectionRef = firestore.collection(\"collections\");\n\t\tdispatch(fetchCollectionsStart());\n\n\t\tcollectionRef\n\t\t\t.get()\n\t\t\t.then((snapshot) => {\n\t\t\t\tconst collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n\t\t\t\tdispatch(fetchCollectionsSuccess(collectionsMap));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch(fetchCollectionsFailure(err.message));\n\t\t\t});\n\t};\n};\n","import styled, { css } from \"styled-components\";\n\nconst buttonStyles = css`\n\tbackground-color: black;\n\tcolor: white;\n\tborder: none;\n\n\t:hover {\n\t\tbackground-color: white;\n\t\tcolor: black;\n\t\tborder: 1px solid black;\n\t}\n`;\n\nconst invertedButtonStyles = css`\n\tbackground-color: white;\n\tcolor: black;\n\tborder: 1px solid black;\n\n\t&:hover {\n\t\tbackground-color: black;\n\t\tcolor: white;\n\t\tborder: none;\n\t}\n`;\n\nconst googleSignInStyles = css`\n\tbackground-color: #4285f4;\n\tcolor: white;\n\tborder: none;\n\n\t&:hover {\n\t\tbackground-color: #357ae8;\n\t\tborder: none;\n\t}\n`;\n\nconst getButtonStyles = (props) => {\n\tif (props.isGoogleSignIn) {\n\t\treturn googleSignInStyles;\n\t}\n\n\treturn props.inverted ? invertedButtonStyles : buttonStyles;\n};\n\nexport const CustomButtonContainer = styled.button`\n\tmin-width: 165px;\n\twidth: auto;\n\theight: 50px;\n\tletter-spacing: 0.5px;\n\tline-height: 50px;\n\tpadding: 0 35px 0 35px;\n\tfont-size: 15px;\n\ttext-transform: uppercase;\n\tfont-family: \"Open Sans Condensed\";\n\tfont-weight: bolder;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\n\t${getButtonStyles}\n`;\n","import React from \"react\";\nimport { CustomButtonContainer } from \"./custom-button.styles\";\n\nconst CustomButton = ({ children, ...props }) => {\n\treturn <CustomButtonContainer {...props}>{children}</CustomButtonContainer>;\n};\n\nexport default CustomButton;\n","import styled from \"styled-components\";\n\nexport const SpinnerOverlay = styled.div`\n\theight: 60vh;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n`;\n\nexport const SpinnerContainer = styled.div`\n\tdisplay: inline-block;\n\twidth: 50px;\n\theight: 50px;\n\tborder: 3px solid rgba(195, 195, 195, 0.6);\n\tborder-radius: 50%;\n\tborder-top-color: #636767;\n\tanimation: spin 1s ease-in-out infinite;\n\t-webkit-animation: spin 1s ease-in-out infinite;\n\t@keyframes spin {\n\t\tto {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t}\n\t}\n\t@-webkit-keyframes spin {\n\t\tto {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t}\n\t}\n`;\n","import React from \"react\";\n\nimport { SpinnerContainer, SpinnerOverlay } from \"./spinner.styles\";\n\nconst Spinner = () => {\n\treturn (\n\t\t<SpinnerOverlay>\n\t\t\t<SpinnerContainer />\n\t\t</SpinnerOverlay>\n\t);\n};\n\nexport default Spinner;\n","export const SET_CURRENT_USER = \"SET_CURRENT_USER\";\nexport const GOOGLE_SIGN_IN_START = \"GOOGLE_SIGN_IN_START\";\nexport const EMAIL_SIGN_IN_START = \"EMAIL_SIGN_IN_START\";\nexport const SIGN_UP_START = \"SIGN_UP_START\";\n\nexport const SIGN_IN_SUCCESS = \"SIGN_IN_SUCCESS\";\nexport const SIGN_UP_SUCCESS = \"SIGN_UP_SUCCESS\";\n\nexport const SIGN_IN_FAILURE = \"SIGN_IN_FAILURE\";\nexport const SIGN_UP_FAILURE = \"SIGN_UP_FAILURE\";\n\nexport const CHECK_USER_SESSION = \"CHECK_USER_SESSION\";\n\nexport const SIGN_OUT_START = \"SIGN_OUT_START\";\nexport const SIGN_OUT_SUCCESS = \"SIGN_OUT_SUCCESS\";\nexport const SIGN_OUT_FAILURE = \"SIGN_OUT_FAILURE\";\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Group\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"WiP\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Artboard\",\n  transform: \"translate(-90.000000, -38.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(90.000000, 38.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Rectangle\",\n  fill: \"#808282\",\n  points: \"3 14 25 26.5 47 14 40.855176 39 9.08421785 39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Triangle\",\n  fillOpacity: 0.262838724,\n  fill: \"#101A1A\",\n  points: \"25 8 40 39 10 39\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 2,\n  cy: 9,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 25,\n  cy: 2,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 48,\n  cy: 9,\n  r: 2\n}))));\n\nvar SvgCrown = function SvgCrown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"50px\",\n    height: \"39px\",\n    viewBox: \"0 0 50 39\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown.ed28accb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgShoppingBag = function SvgShoppingBag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 407.453 407.453\",\n    style: {\n      enableBackground: \"new 0 0 407.453 407.453\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z\"\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShoppingBag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shopping-bag.30f07071.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ReactComponent as ShoppingIcon } from \"../../assets/shopping-bag.svg\";\nimport { toggleCartHidden } from \"../../redux/cart/cart.actions\";\nimport { selectCartItemsCount } from \"../../redux/cart/cart.selectors\";\n\nimport \"./cart-icon.styles.scss\";\n\nconst CartIcon = () => {\n\tconst itemCount = useSelector((state) => selectCartItemsCount(state));\n\tconst dispatch = useDispatch();\n\tconst dispatchCartHidden = () => dispatch(toggleCartHidden());\n\n\treturn (\n\t\t<div className=\"cart-icon\" onClick={dispatchCartHidden}>\n\t\t\t<ShoppingIcon className=\"shopping-icon\" />\n\t\t\t<span className=\"item-count\">{itemCount}</span>\n\t\t</div>\n\t);\n};\n\nexport default CartIcon;\n","import styled from \"styled-components\";\n\nexport const CartItemContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\theight: 80px;\n\tmargin-bottom: 15px;\n`;\n\nexport const CartItemImage = styled.img`\n\twidth: 30%;\n`;\n\nexport const ItemDetailsContainer = styled.div`\n\twidth: 70%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: center;\n\tpadding: 10px 20px;\n`;\n","import React, { memo } from \"react\";\n\nimport \"./cart-item.styles.scss\";\nimport {\n\tCartItemContainer,\n\tItemDetailsContainer,\n\tCartItemImage,\n} from \"./cart-item.styles\";\n\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => {\n\treturn (\n\t\t<CartItemContainer>\n\t\t\t<CartItemImage src={imageUrl} alt=\"item\" />\n\t\t\t<ItemDetailsContainer>\n\t\t\t\t<span className=\"name\">{name}</span>\n\t\t\t\t<span className=\"price\">\n\t\t\t\t\t{quantity} x ${price}\n\t\t\t\t</span>\n\t\t\t</ItemDetailsContainer>\n\t\t</CartItemContainer>\n\t);\n};\n\nexport default memo(CartItem);\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport CartItem from \"../cart-item/cart-item.component\";\nimport \"./cart-dropdown.styles.scss\";\nimport { selectCartItems } from \"../../redux/cart/cart.selectors\";\nimport { toggleCartHidden } from \"../../redux/cart/cart.actions\";\nimport { useHistory } from \"react-router-dom\";\n\nconst CartDropdown = () => {\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\tconst dispatchToggle = () => dispatch(toggleCartHidden());\n\n\tconst cartItems = useSelector((state) => selectCartItems(state));\n\treturn (\n\t\t<div className=\"cart-dropdown\">\n\t\t\t<div className=\"cart-items\">\n\t\t\t\t{cartItems.length ? (\n\t\t\t\t\tcartItems.map((cartItem) => (\n\t\t\t\t\t\t<CartItem key={cartItem.id} item={cartItem} />\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<span className=\"empty-message\">Your cart is empty</span>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<CustomButton\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(\"/checkout\");\n\t\t\t\t\tdispatchToggle();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tGO TO CHECKOUT\n\t\t\t</CustomButton>\n\t\t</div>\n\t);\n};\n\nexport default CartDropdown;\n","import { createSelector } from \"reselect\";\n\nconst selectUser = (state) => state.user;\n\nexport const selectCurrentUser = createSelector(\n\t[selectUser],\n\t(user) => user.currentUser\n);\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\n// const OptionContainerStyles = css`\n// \tpadding: 10px 15px;\n// \tcursor: pointer;\n// `;\n\nexport const HeaderContainer = styled.div`\n\theight: 70px;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 25px;\n\n\t@media screen and (max-width: 800px) {\n\t\theight: 60px;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nexport const LogoContainer = styled(Link)`\n\theight: 100%;\n\twidth: 70px;\n\tpadding: 25px;\n\n\t@media screen and (max-width: 800px) {\n\t\twidth: 50px;\n\t\tpadding: 0;\n\t}\n`;\n\nexport const OptionsContainer = styled.div`\n\twidth: 50%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\n\t@media screen and (max-width: 800px) {\n\t\twidth: 80%;\n\t}\n`;\n\nexport const OptionLink = styled(Link)`\n\tpadding: 10px 15px;\n\tcursor: pointer;\n`;\n\n// export const OptionLink = styled(Link)`\n// \t${OptionContainerStyles}\n// `;\n\n// export const OptionDiv = styled.div`\n// \t${OptionContainerStyles}\n// `;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ReactComponent as Logo } from \"../../assets/crown.svg\";\n\nimport CartIcon from \"../cart-icon/cart-icon.component\";\nimport CartDropdown from \"../cart-dropdown/cart-dropdown.component\";\nimport { selectCurrentUser } from \"../../redux/user/user.selectors\";\nimport { selectCartHidden } from \"../../redux/cart/cart.selectors\";\nimport {\n\tHeaderContainer,\n\tLogoContainer,\n\tOptionsContainer,\n\tOptionLink,\n} from \"./header.styles\";\nimport { signOutStart } from \"../../redux/user/user.actions\";\n\nconst Header = () => {\n\tconst dispatch = useDispatch();\n\n\tconst signOut = () => dispatch(signOutStart());\n\n\tconst currentUser = useSelector((state) => selectCurrentUser(state));\n\tconst hidden = useSelector((state) => selectCartHidden(state));\n\n\treturn (\n\t\t<HeaderContainer>\n\t\t\t<LogoContainer to=\"/\">\n\t\t\t\t<Logo className=\"logo\" />\n\t\t\t</LogoContainer>\n\t\t\t<OptionsContainer>\n\t\t\t\t<OptionLink to=\"/shop\">SHOP</OptionLink>\n\t\t\t\t<OptionLink to=\"/shop\">CONTACT</OptionLink>\n\t\t\t\t{currentUser ? (\n\t\t\t\t\t<OptionLink as=\"div\" onClick={signOut}>\n\t\t\t\t\t\tSIGN OUT\n\t\t\t\t\t</OptionLink>\n\t\t\t\t) : (\n\t\t\t\t\t<OptionLink to=\"/signin\">SIGN IN</OptionLink>\n\t\t\t\t)}\n\t\t\t\t<CartIcon />\n\t\t\t</OptionsContainer>\n\t\t\t{hidden ? null : <CartDropdown />}\n\t\t</HeaderContainer>\n\t);\n};\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const ErrorImageOverlay = styled.div`\n\theight: 60vh;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n`;\n\nexport const ErrorImageContainer = styled.div`\n\tdisplay: inline-block;\n\tbackground-image: ${({ imageUrl }) => `url(${imageUrl})`};\n\tbackground-size: cover;\n\tbackground-position: center;\n\twidth: 40vh;\n\theight: 40vh;\n`;\n\nexport const ErrorImageText = styled.h2`\n\tfont-size: 28px;\n\tcolor: #2f8e89;\n`;\n","import React, { Component } from \"react\";\n\nimport {\n\tErrorImageOverlay,\n\tErrorImageContainer,\n\tErrorImageText,\n} from \"./error-boundary.styles\";\n\nexport class ErrorBoundary extends Component {\n\tstate = {\n\t\thasErrored: false,\n\t};\n\n\tstatic getDerivedStateFromError(error) {\n\t\t// process the error\n\t\treturn { hasErrored: true };\n\t}\n\n\tcomponentDidCatch(error, info) {\n\t\t// Side effects for error\n\t\tconsole.log(error);\n\t\tconsole.log(info);\n\t}\n\n\trender() {\n\t\tif (this.state.hasErrored) {\n\t\t\treturn (\n\t\t\t\t<ErrorImageOverlay>\n\t\t\t\t\t<ErrorImageContainer imageUrl=\"https://i.imgur.com/yW2W9SC.png\" />\n\t\t\t\t\t<ErrorImageText>Sorry this page is broken</ErrorImageText>\n\t\t\t\t</ErrorImageOverlay>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\nexport default ErrorBoundary;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n    body {\n        font-family: \"Open Sans Condensed\";\n        padding: 20px 60px;\n\n        @media screen and (max-width: 800px) {\n            padding: 10px;\n        }\n     }\n\n    a {\n        text-decoration: none;\n        color: black;\n    }\n\n    * {\n        box-sizing: border-box;\n    }\n`;\n","import React, { useEffect, lazy, Suspense } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Header from \"./components/header/header.component\";\n\n// import HomePage from \"./pages/homepage/homepage.component\";\n// import ShopPage from \"./pages/shop/shop.component\";\n// import SignInAndSignUpPage from \"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";\n// import CheckoutPage from \"./pages/checkout/checkout.component\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkUserSession } from \"./redux/user/user.actions\";\nimport ErrorBoundary from \"./components/error-boundary/error-boundary.component\";\nimport Spinner from \"./components/spinner/spinner.component\";\nimport { GlobalStyle } from \"./global.styles\";\n\nconst HomePage = lazy(() => import(\"./pages/homepage/homepage.component\"));\nconst ShopPage = lazy(() => import(\"./pages/shop/shop.component\"));\nconst CheckoutPage = lazy(() => import(\"./pages/checkout/checkout.component\"));\nconst SignInAndSignUpPage = lazy(() =>\n\timport(\"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\")\n);\n\nconst App = () => {\n\tconst dispatch = useDispatch();\n\n\tconst currentUser = useSelector((state) => selectCurrentUser(state));\n\n\tuseEffect(() => {\n\t\tconst checkUser = () => dispatch(checkUserSession());\n\n\t\tcheckUser();\n\n\t\t//eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<GlobalStyle />\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\n\t\t\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t\t\t<Route path=\"/shop\" component={ShopPage} />\n\t\t\t\t\t\t<Route exact path=\"/checkout\" component={CheckoutPage} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/signin\"\n\t\t\t\t\t\t\trender={() =>\n\t\t\t\t\t\t\t\tcurrentUser ? <Redirect to=\"/\" /> : <SignInAndSignUpPage />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</ErrorBoundary>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n};\n\nexport default App;\n\n///// FIREBASE OBSERVER STYLE\n// useEffect(() => {\n// const unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n// \tif (userAuth) {\n// \t\tconst userRef = await createUserProfileDocument(userAuth);\n// \t\tuserRef.onSnapshot((snapshot) => {\n// \t\t\tsetCurrentUser({\n// \t\t\t\tcurrentUser: {\n// \t\t\t\t\tid: snapshot.id,\n// \t\t\t\t\t...snapshot.data(),\n// \t\t\t\t},\n// \t\t\t});\n// \t\t});\n// \t}\n// \tsetCurrentUser(userAuth);\n// });\n// return () => {\n// \tunsubscribeFromAuth();\n// };\n// }, []);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { \"Service-Worker\": \"script\" },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import {\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_FAILURE,\n\tSIGN_OUT_SUCCESS,\n\tSIGN_OUT_FAILURE,\n\tSIGN_UP_SUCCESS,\n\tSIGN_UP_FAILURE,\n} from \"./user.types\";\n\nconst INITIAL_STATE = {\n\tcurrentUser: null,\n\terror: null,\n};\n\nconst userReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase SIGN_UP_SUCCESS:\n\t\tcase SIGN_IN_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentUser: action.payload,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase SIGN_OUT_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentUser: null,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase SIGN_UP_FAILURE:\n\t\tcase SIGN_IN_FAILURE:\n\t\tcase SIGN_OUT_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default userReducer;\n","export const addItemToCart = (cartItems, cartItemToAdd) => {\n\tconst existingCartItem = cartItems.find(\n\t\t(cartItem) => cartItem.id === cartItemToAdd.id\n\t);\n\n\tif (existingCartItem) {\n\t\treturn cartItems.map((cartItem) =>\n\t\t\tcartItem.id === cartItemToAdd.id\n\t\t\t\t? { ...cartItem, quantity: cartItem.quantity + 1 }\n\t\t\t\t: cartItem\n\t\t);\n\t}\n\n\treturn [...cartItems, { ...cartItemToAdd, quantity: 1 }];\n};\n\nexport const removeItemFromCart = (cartItems, cartItemToRemove) => {\n\tconst existingCartItem = cartItems.find(\n\t\t(cartItem) => cartItem.id === cartItemToRemove.id\n\t);\n\n\tif (existingCartItem.quantity === 1) {\n\t\treturn cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\n\t}\n\n\treturn cartItems.map((cartItem) =>\n\t\tcartItem.id === cartItemToRemove.id\n\t\t\t? { ...cartItem, quantity: cartItem.quantity - 1 }\n\t\t\t: cartItem\n\t);\n};\n","import CartActionTypes from \"./cart.types\";\nimport { addItemToCart, removeItemFromCart } from \"./cart.utils\";\n\nconst {\n\tTOGGLE_CART_HIDDEN,\n\tADD_ITEM,\n\tCLEAR_ITEM_FROM_CART,\n\tREMOVE_ITEM,\n\tCLEAR_CART,\n\tSET_CART_FROM_FIREBASE,\n} = CartActionTypes;\n\nconst INITIAL_STATE = {\n\thidden: true,\n\tcartItems: [],\n};\n\nconst cartReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase TOGGLE_CART_HIDDEN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thidden: !state.hidden,\n\t\t\t};\n\n\t\tcase ADD_ITEM:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: addItemToCart(state.cartItems, action.payload),\n\t\t\t};\n\n\t\tcase REMOVE_ITEM:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: removeItemFromCart(state.cartItems, action.payload),\n\t\t\t};\n\n\t\tcase CLEAR_ITEM_FROM_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: state.cartItems.filter(\n\t\t\t\t\t(cartItem) => cartItem.id !== action.payload.id\n\t\t\t\t),\n\t\t\t};\n\n\t\tcase CLEAR_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: [],\n\t\t\t};\n\t\tcase SET_CART_FROM_FIREBASE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: action.payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default cartReducer;\n","const INITIAL_STATE = {\n\tsections: [\n\t\t{\n\t\t\ttitle: \"hats\",\n\t\t\timageUrl: \"https://i.ibb.co/cvpntL1/hats.png\",\n\t\t\tid: 1,\n\t\t\tlinkUrl: \"shop/hats\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"jackets\",\n\t\t\timageUrl: \"https://i.ibb.co/px2tCc3/jackets.png\",\n\t\t\tid: 2,\n\t\t\tlinkUrl: \"shop/jackets\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"sneakers\",\n\t\t\timageUrl: \"https://i.ibb.co/0jqHpnp/sneakers.png\",\n\t\t\tid: 3,\n\t\t\tlinkUrl: \"shop/sneakers\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"womens\",\n\t\t\timageUrl: \"https://i.ibb.co/GCCdy8t/womens.png\",\n\t\t\tsize: \"large\",\n\t\t\tid: 4,\n\t\t\tlinkUrl: \"shop/womens\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"mens\",\n\t\t\timageUrl: \"https://i.ibb.co/R70vBrQ/men.png\",\n\t\t\tsize: \"large\",\n\t\t\tid: 5,\n\t\t\tlinkUrl: \"shop/mens\",\n\t\t},\n\t],\n};\n\nconst directoryReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default directoryReducer;\n","import ShopActionsTypes from \"./shop.types\";\n\nconst {\n\tFETCH_COLLECTIONS_START,\n\tFETCH_COLLECTIONS_SUCCESS,\n\tFETCH_COLLECTIONS_FAIL,\n} = ShopActionsTypes;\n\nconst INITIAL_STATE = {\n\tcollections: null,\n\tisFetching: false,\n\terrorMessage: \"\",\n};\n\nconst shopReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\t// case UPDATE_COLLECTIONS:\n\t\t// \treturn {\n\t\t// \t\t...state,\n\t\t// \t\tcollections: action.payload,\n\t\t// \t};\n\t\tcase FETCH_COLLECTIONS_START:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: true,\n\t\t\t};\n\t\tcase FETCH_COLLECTIONS_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\tcollections: action.payload,\n\t\t\t};\n\t\tcase FETCH_COLLECTIONS_FAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\terrorMessage: action.payload,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\nexport default shopReducer;\n","import { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport userReducer from \"./user/user.reducer\";\nimport cartReducer from \"./cart/cart.reducer\";\nimport directoryReducer from \"./directory/directory.reducer\";\nimport shopReducer from \"./shop/shop.reducer\";\n\nconst persistConfig = {\n\tkey: \"root\",\n\tstorage,\n\twhitelist: [\"cart\"],\n};\n\nconst rootReducer = combineReducers({\n\tuser: userReducer,\n\tcart: cartReducer,\n\tdirectory: directoryReducer,\n\tshop: shopReducer,\n});\n\nexport default persistReducer(persistConfig, rootReducer);\n","import { all, call, takeLatest, put, select } from \"redux-saga/effects\";\nimport { clearCart, setCartFromFirebase } from \"./cart.actions\";\nimport CartActionTypes from \"./cart.types\";\nimport { selectCartItems } from \"./cart.selectors\";\n\nimport { SIGN_OUT_SUCCESS, SIGN_IN_SUCCESS } from \"../user/user.types\";\nimport { selectCurrentUser } from \"../user/user.selectors\";\n\nimport { getUserCartRef } from \"../../firebase/firebase.utils\";\n\nconst { ADD_ITEM, CLEAR_ITEM_FROM_CART, REMOVE_ITEM } = CartActionTypes;\n\nexport function* clearCartOnSignOut() {\n\tyield put(clearCart());\n}\n\nexport function* onSignOutSuccess() {\n\tyield takeLatest(SIGN_OUT_SUCCESS, clearCartOnSignOut);\n}\n\nexport function* updateCartInFirebase() {\n\tconst currentUser = yield select(selectCurrentUser);\n\tif (currentUser) {\n\t\ttry {\n\t\t\tconst cartRef = yield getUserCartRef(currentUser.id);\n\t\t\tconst cartItems = yield select(selectCartItems);\n\t\t\tyield cartRef.update({ cartItems });\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n}\n\nexport function* onUserSignIn() {\n\tyield takeLatest(SIGN_IN_SUCCESS, checkCartFromFirebase);\n}\n\nexport function* checkCartFromFirebase({ payload: user }) {\n\tconst cartRef = yield getUserCartRef(user.id);\n\tconst cartSnapshot = yield cartRef.get();\n\tyield put(setCartFromFirebase(cartSnapshot.data().cartItems));\n}\n\nexport function* onCartChange() {\n\tyield takeLatest(\n\t\t[ADD_ITEM, REMOVE_ITEM, CLEAR_ITEM_FROM_CART],\n\t\tupdateCartInFirebase\n\t);\n}\n\nexport function* cartSagas() {\n\tyield all([call(onSignOutSuccess), call(onCartChange), call(onUserSignIn)]);\n}\n","import { all, takeEvery, call, put } from \"redux-saga/effects\";\nimport {\n\tconvertCollectionsSnapshotToMap,\n\tfirestore,\n} from \"../../firebase/firebase.utils\";\nimport {\n\tfetchCollectionsFailure,\n\tfetchCollectionsSuccess,\n} from \"./shop.actions\";\n\nimport ShopActionsTypes from \"./shop.types\";\nconst { FETCH_COLLECTIONS_START } = ShopActionsTypes;\n\nexport function* fetchCollectionsAsync() {\n\tyield console.log(\"Fired\");\n\ttry {\n\t\tconst collectionRef = firestore.collection(\"collections\");\n\t\tconst snapshot = yield collectionRef.get();\n\t\tconst collectionsMap = yield call(\n\t\t\tconvertCollectionsSnapshotToMap,\n\t\t\tsnapshot\n\t\t);\n\t\tyield put(fetchCollectionsSuccess(collectionsMap));\n\t} catch (err) {\n\t\tyield put(fetchCollectionsFailure(err.message));\n\t}\n\n\t// collectionRef\n\t// \t.get()\n\t// \t.then((snapshot) => {\n\t// \t\tconst collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n\t// \t\tdispatch(fetchCollectionsSuccess(collectionsMap));\n\t// \t})\n\t// \t.catch((err) => {\n\t// \t\tdispatch(fetchCollectionsFailure(err.message));\n\t// \t});\n}\n\nexport function* fetchCollectionsStart() {\n\tyield takeEvery(FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n}\n\nexport function* shopSagas() {\n\tyield all([call(fetchCollectionsStart)]);\n}\n","import { takeLatest, put, all, call } from \"redux-saga/effects\";\nimport {\n\tauth,\n\tgoogleProvider,\n\tcreateUserProfileDocument,\n\tgetCurrentUser,\n} from \"../../firebase/firebase.utils\";\nimport {\n\tsignInFailure,\n\tsignInSuccess,\n\tsignOutSuccess,\n\tsignUpSuccess,\n} from \"./user.actions\";\nimport {\n\tGOOGLE_SIGN_IN_START,\n\tEMAIL_SIGN_IN_START,\n\tCHECK_USER_SESSION,\n\tSIGN_OUT_START,\n\tSIGN_UP_START,\n\tSIGN_UP_SUCCESS,\n} from \"./user.types\";\n\nexport function* getSnapshotFromUserAuth(userAuth, additionalData) {\n\ttry {\n\t\tconst userRef = yield call(\n\t\t\tcreateUserProfileDocument,\n\t\t\tuserAuth,\n\t\t\tadditionalData\n\t\t);\n\t\tconst userSnapshot = yield userRef.get();\n\t\tyield put(signInSuccess({ id: userSnapshot.id, ...userSnapshot.data() }));\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* signInWithGoogle() {\n\ttry {\n\t\tconst { user } = yield auth.signInWithPopup(googleProvider);\n\t\tyield getSnapshotFromUserAuth(user);\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* onGoogleSignInStart() {\n\tyield takeLatest(GOOGLE_SIGN_IN_START, signInWithGoogle);\n}\n\nexport function* signInWithEmail({ payload: { email, password } }) {\n\ttry {\n\t\tconst { user } = yield auth.signInWithEmailAndPassword(email, password);\n\t\tyield getSnapshotFromUserAuth(user);\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* onEmailSignInStart() {\n\tyield takeLatest(EMAIL_SIGN_IN_START, signInWithEmail);\n}\n\nexport function* isUserAuthenticated() {\n\ttry {\n\t\tconst userAuth = yield getCurrentUser();\n\t\tif (!userAuth) return;\n\n\t\tyield getSnapshotFromUserAuth(userAuth);\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* onCheckUserSession() {\n\tyield takeLatest(CHECK_USER_SESSION, isUserAuthenticated);\n}\n\nexport function* signOut() {\n\ttry {\n\t\tyield auth.signOut();\n\t\tyield put(signOutSuccess());\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* onSignOutStart() {\n\tyield takeLatest(SIGN_OUT_START, signOut);\n}\n\nexport function* signInAfterSignUp({ payload: { user, additionalData } }) {\n\tyield getSnapshotFromUserAuth(user, additionalData);\n}\n\nexport function* onSignUpSuccess() {\n\tyield takeLatest(SIGN_UP_SUCCESS, signInAfterSignUp);\n}\n\nexport function* signUp({ payload: { displayName, email, password } }) {\n\ttry {\n\t\tconst { user } = yield auth.createUserWithEmailAndPassword(email, password);\n\t\tyield put(signUpSuccess({ user, additionalData: { displayName } }));\n\t} catch (err) {\n\t\tyield put(signInFailure(err));\n\t}\n}\n\nexport function* onSignUpStart() {\n\tyield takeLatest(SIGN_UP_START, signUp);\n}\n\nexport function* userSagas() {\n\tyield all([\n\t\tcall(onGoogleSignInStart),\n\t\tcall(onEmailSignInStart),\n\t\tcall(onCheckUserSession),\n\t\tcall(onSignOutStart),\n\t\tcall(onSignUpStart),\n\t\tcall(onSignUpSuccess),\n\t]);\n}\n","import { all, call } from \"redux-saga/effects\";\nimport { cartSagas } from \"./cart/cart.sagas\";\nimport { shopSagas } from \"./shop/shop.sagas\";\nimport { userSagas } from \"./user/user.sagas\";\n\nexport function* rootSaga() {\n\tyield all([call(shopSagas), call(userSagas), call(cartSagas)]);\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n// import thunk from \"redux-thunk\";\nimport logger from \"redux-logger\";\nimport { persistStore } from \"redux-persist\";\n\nimport createSagaMiddleware from \"redux-saga\";\n\nimport rootReducer from \"./root-reducer\";\nimport { rootSaga } from \"./root.sagas\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst middlewares = [sagaMiddleware];\n\nif (process.env.NODE_ENV === \"development\") {\n\tmiddlewares.push(logger);\n}\n\nexport const store = createStore(\n\trootReducer,\n\tcomposeWithDevTools(applyMiddleware(...middlewares))\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport const persistor = persistStore(store);\n\nexport default { store, persistor };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nimport { store, persistor } from \"./redux/store\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t\t<App />\n\t\t\t\t</PersistGate>\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}